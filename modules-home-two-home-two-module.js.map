{"version":3,"sources":["./projects/storefront/src/app/modules/home-two/home-two.module.ts","./projects/storefront/src/app/modules/home-two/pages/page-two/page-two.component.ts","./projects/storefront/src/app/modules/home-two/pages/page-two/page-two.component.html","./projects/storefront/src/app/modules/home-two/home-two-routing.module.ts"],"names":[],"mappings":"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","file":"modules-home-two-home-two-module.js","sourcesContent":["import { NgModule } from '@angular/core';\n\n// modules (angular)\nimport { CommonModule } from '@angular/common';\n// modules (third-party)\nimport { TranslateModule } from '@ngx-translate/core';\n// modules\nimport { BlocksModule } from '../blocks/blocks.module';\nimport { HomeTwoRoutingModule } from './home-two-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\n// pages\nimport { PageTwoComponent } from './pages/page-two/page-two.component';\n\n@NgModule({\n    declarations: [\n        // pages\n        PageTwoComponent,\n    ],\n    imports: [\n        // modules (angular)\n        CommonModule,\n        // modules (third-party)\n        TranslateModule.forChild(),\n        // modules\n        BlocksModule,\n        HomeTwoRoutingModule,\n        SharedModule,\n    ],\n})\nexport class HomeTwoModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { BlogApi, ShopApi } from '../../../../api/base';\nimport { Post } from '../../../../interfaces/post';\nimport { BehaviorSubject, Observable, of, timer } from 'rxjs';\nimport { Brand } from '../../../../interfaces/brand';\nimport { filter, mergeMap, switchMap, tap } from 'rxjs/operators';\nimport { Product } from '../../../../interfaces/product';\nimport { SectionHeaderGroup } from '../../../shared/components/section-header/section-header.component';\nimport { ShopCategory } from '../../../../interfaces/category';\n\ninterface ProductsCarouselGroup extends SectionHeaderGroup {\n    products$: Observable<Product[]>;\n}\n\ninterface ProductsCarouselData {\n    subject$: BehaviorSubject<ProductsCarouselGroup>;\n    products$: Observable<Product[]>;\n    loading: boolean;\n    groups: ProductsCarouselGroup[];\n}\n\ninterface DeferredData<T> {\n    loading: boolean;\n    data$: Observable<T>;\n}\n\n@Component({\n    selector: 'app-page-two',\n    templateUrl: './page-two.component.html',\n    styleUrls: ['./page-two.component.scss'],\n})\nexport class PageTwoComponent implements OnInit {\n    brands$: Observable<Brand[]> = of([]);\n\n    popularCategories$: Observable<ShopCategory[]> = of([]);\n\n    featuredProducts: ProductsCarouselData;\n\n    blockSale: DeferredData<Product[]>;\n\n    latestPosts: DeferredData<Post[]>;\n\n    columnTopRated$: Observable<Product[]>;\n    columnSpecialOffers$: Observable<Product[]>;\n    columnBestsellers$: Observable<Product[]>;\n\n    constructor(\n        private shopApi: ShopApi,\n        private blogApi: BlogApi,\n    ) { }\n\n    ngOnInit(): void {\n        this.brands$ = this.shopApi.getBrands({limit: 16});\n\n        this.popularCategories$ = this.shopApi.getCategories({\n            slugs: [\n                'headlights-lighting',\n                'fuel-system',\n                'body-parts',\n                'interior-parts',\n                'tires-wheels',\n                'engine-drivetrain',\n            ],\n            depth: 1,\n        });\n\n        this.featuredProducts = this.makeCarouselData([\n            {\n                label: 'All',\n                products$: this.shopApi.getFeaturedProducts(null, 8),\n            },\n            {\n                label: 'Power Tools',\n                products$: this.shopApi.getFeaturedProducts('power-tools', 8),\n            },\n            {\n                label: 'Hand Tools',\n                products$: this.shopApi.getFeaturedProducts('hand-tools', 8),\n            },\n            {\n                label: 'Plumbing',\n                products$: this.shopApi.getFeaturedProducts('plumbing', 8),\n            },\n        ]);\n\n        this.blockSale = this.makeDeferredData(this.shopApi.getSpecialOffers(8));\n\n        this.latestPosts = this.makeDeferredData(this.blogApi.getLatestPosts(8));\n\n        this.columnTopRated$ = this.shopApi.getTopRatedProducts(null, 3);\n        this.columnSpecialOffers$ = this.shopApi.getSpecialOffers(3);\n        this.columnBestsellers$ = this.shopApi.getPopularProducts(null, 3);\n    }\n\n    groupChange(carousel: ProductsCarouselData, group: SectionHeaderGroup): void {\n        carousel.subject$.next(group as ProductsCarouselGroup);\n    }\n\n    private makeCarouselData(groups: ProductsCarouselGroup[]): ProductsCarouselData {\n        const subject = new BehaviorSubject<ProductsCarouselGroup>(groups[0]);\n        const carouselData: ProductsCarouselData = {\n            subject$: subject,\n            products$: subject.pipe(\n                filter(x => x !== null),\n                tap(() => carouselData.loading = true),\n                switchMap(group => group.products$),\n                tap(() => carouselData.loading = false),\n            ),\n            loading: true,\n            groups,\n        };\n\n        return carouselData;\n    }\n\n    private makeDeferredData<T>(dataSource: Observable<T>): DeferredData<T> {\n        const data = {\n            loading: true,\n            data$: null,\n        };\n\n        data.data$ = timer(0).pipe(mergeMap(() => dataSource.pipe(tap(() => data.loading = false))));\n\n        return data;\n    }\n}\n","<app-block-space layout=\"divider-xs\"></app-block-space>\n\n<app-block-slideshow\n    [slides]=\"[\n        {\n            url: '/shop',\n            desktopImage: 'assets/images/slides/slide-3.jpg',\n            mobileImage: 'assets/images/slides/slide-3-mobile.jpg',\n            offer: '30% OFF',\n            title: 'When Buying Parts <br>With Installation',\n            details: 'Installation of parts in the services of <br>our partners.',\n            buttonLabel: 'Shop Now'\n        },\n        {\n            url: '/shop',\n            desktopImage: 'assets/images/slides/slide-2.jpg',\n            mobileImage: 'assets/images/slides/slide-2-mobile.jpg',\n            title: 'Not enough <br>spare parts?',\n            details: 'We have everything you need â€“ replacement parts, <br>performance parts, accessories, oil & fluids, <br>tools and much more...',\n            buttonLabel: 'Shop Now'\n        },\n        {\n            url: '/shop',\n            desktopImage: 'assets/images/slides/slide-1.jpg',\n            mobileImage: 'assets/images/slides/slide-1-mobile.jpg',\n            offer: '30% OFF',\n            title: 'Big Choice Of <br>Wheel Tires',\n            details: 'Any size and diameter, with or without spikes, <br>summer or winter, rain or snow.',\n            buttonLabel: 'Shop Now'\n        }\n    ]\"\n></app-block-slideshow>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-brands layout=\"columns-8-full\" [brands]=\"brands$|async\"></app-block-brands>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-categories\n    [blockTitle]=\"'HEADER_POPULAR_CATEGORIES'|translate\"\n    [categories]=\"popularCategories$|async\"\n></app-block-categories>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-products-carousel\n    [blockTitle]=\"'HEADER_FEATURED_PRODUCTS'|translate\"\n    layout=\"grid-5\"\n    rows=\"1\"\n    [loading]=\"this.featuredProducts.loading\"\n    [products]=\"this.featuredProducts.products$|async\"\n    [groups]=\"this.featuredProducts.groups\"\n    (changeGroup)=\"groupChange(featuredProducts, $event)\"\n></app-block-products-carousel>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-banners></app-block-banners>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-sale\n    [loading]=\"blockSale.loading\"\n    [products]=\"blockSale.data$|async\"\n></app-block-sale>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-posts-carousel\n    [label]=\"'HEADER_LATEST_NEWS'|translate\"\n    layout=\"list\"\n    [loading]=\"latestPosts.loading\"\n    [posts]=\"latestPosts.data$|async\"\n    [links]=\"[\n        {label: 'Special Offers', url: '/blog'},\n        {label: 'New Arrivals', url: '/blog'},\n        {label: 'Reviews', url: '/blog'}\n    ]\"\n></app-block-posts-carousel>\n\n<app-block-space class=\"d-xl-block d-none\" layout=\"divider-nl\"></app-block-space>\n\n<app-block-products-columns\n    [columns]=\"[\n        {\n            title: 'HEADER_TOP_RATED'|translate,\n            products: columnTopRated$|async\n        },\n        {\n            title: 'HEADER_SPECIAL_OFFERS'|translate,\n            products: columnSpecialOffers$|async\n        },\n        {\n            title: 'HEADER_BESTSELLERS'|translate,\n            products: columnBestsellers$|async\n        }\n    ]\"\n></app-block-products-columns>\n\n<app-block-space layout=\"divider-nl\"></app-block-space>\n\n<app-block-features layout=\"bottom-strip\"></app-block-features>\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n// pages\nimport { PageTwoComponent } from './pages/page-two/page-two.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        pathMatch: 'full',\n        component: PageTwoComponent,\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class HomeTwoRoutingModule { }\n"],"sourceRoot":"webpack:///"}